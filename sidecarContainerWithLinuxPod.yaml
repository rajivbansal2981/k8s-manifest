###we know that all the intraction to your k8s cluster happen through api
apiVersion: v1
#it will invoke the pod api which is like a wrapper to deploy our container workload
kind: Pod #kubernetes entity
metadata:
  name: sidecar-app #inside your k8s cluster we need to create a pod.
spec: #inside my pod api i want to deploy a container
  volumes:
    - name: logs
      emptyDir: {}
  containers:
    - name: appcontainer
      image: alpine #Docker image based on Alpine Linux with a complete package index and only 5 MB in size.
      command: ["/bin/sh"]
      args: ["-c","while true; do date >> /var/log/app.log; sleep 5; done"] #It will generate the time series data in form of date and store in app.log
      volumeMounts:
        - name: logs
          mountPath: /var/log #This path is mounted to name: logs
    - name: log-exporter-sidecar #It will read the logs generated by alpine image
      image: nginx
      ports:
        - containerPort: 80
      volumeMounts: #Two different path of these two different images are mounted based on the name of VolumeMount is logs
        - name: logs #This path is mounted to name: logs
          mountPath: /usr/share/nginx/html